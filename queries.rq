# properties with a allowed/required qualifier of 'start time' and 'end time'
SELECT ?prop ?propLabel ?qfConstrTypeLabel WHERE {
  VALUES ?qfConstrType { wd:Q21510851 wd:Q21510856 }
  ?prop p:P2302 ?statement.
  ?statement ps:P2302 ?qfConstrType; pq:P2306 wd:P580, wd:P582
  FILTER NOT EXISTS { ?statement pq:P2316 wd:Q62026391 }
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }   
}

# properties with a allowed/required qualifier 'valid in place'
SELECT ?prop ?propLabel ?qfConstrTypeLabel WHERE {
  VALUES ?qfConstrType { wd:Q21510851 wd:Q21510856 }
  ?prop p:P2302 ?statement.
  ?statement ps:P2302 ?qfConstrType; pq:P2306 wd:P3005
  FILTER NOT EXISTS { ?statement pq:P2316 wd:Q62026391 }
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }   
}


# properties with a common qualifier 'start time'
SELECT ?prop ?propLabel WHERE {
  ?prop p:P8379 ?statement.
  ?statement ps:P8379 wd:P580
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
}

# properties with a common qualifier 'valid in place'
SELECT ?prop ?propLabel WHERE {
  ?prop p:P8379 ?statement.
  ?statement ps:P8379 wd:P3005
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
}




# select heads of state of countries with their number of children and the start time [and end time] of their reign
SELECT DISTINCT ?countryLabel ?personLabel ?propertyLabel ?startTime ?endTime WHERE {
  ?country p:P35 ?statement.
  ?statement ps:P35 ?person;
             pq:P580 ?startTime.
  OPTIONAL{
    ?statement pq:P582 ?endTime.
  }
  ?country p:P31/ps:P31/wdt:P279* wd:Q6256.
  ?person wdt:P1971 ?property
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }   
}
ORDER BY ASC(?countryLabel) ASC(?startTime)
